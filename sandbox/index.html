<!DOCTYPE html>
<html lang="en">
  
  <!-- 

    This entire file is a hacky way to split one scene into a separate app
    I'll eventually need to find a more elegant way to accomplish this

   -->

  <head>
    <title>sandbox</title>
    <link rel="stylesheet" type="text/css" href="../css/pwa.css">
    <link rel="manifest" href="sandbox.webmanifest">
  </head>

  <body>
    
    <svg id='container' viewbox="0 0 640 360">
      <rect width="100%" height="100%" fill="white"/>
    </svg>

  </body>

  <script src="../lib/svg.min.js"></script>
  <script src="../lib/vivus.min.js"></script>
  <script src="../lib/flubber.min.js"></script>
  <script src="../lib/chroma.min.js"></script>
  
  <script src="../lib/gif.js"></script>
  <script src="../lib/gif.worker.js"></script>
  
  <script src="../lib/jszip.min.js"></script>
  <script src="../lib/FileSaver.js"></script>
  
  <script src="../lib/mousetrap.min.js"></script>
  <script src="../lib/hammer.min.js"></script>

  <script src="../js/core/Transformation.js"></script>
  <script src="../js/core/AnimationQueue.js"></script>
  <script src="../js/core/Animated.js"></script>
  <script src="../js/core/MagicContainer.js"></script>
  <script src="../js/core/External.js"></script>
  <script src="../js/components/basic/Eye.js"></script>
  <script src="../js/components/sandbox/Adventurer.js"></script>
  <script src="../js/components/sandbox/Crystal.js"></script>
  <script src="../js/components/sandbox/Drill.js"></script>
  <script src="../js/components/sandbox/SandboxGame.js"></script>
  <script src="../js/components/sandbox/SandboxGUI.js"></script>
  <script src="../js/components/sandbox/SquareGrid.js"></script>
  <script src="../js/components/sandbox/Tile.js"></script>
  <script src="../js/components/sandbox/ToggleButton.js"></script>

  <script src="../js/core/Player.js"></script>
  <script src="../js/core/Scene.js"></script>
  <script src="../js/scenes.js"></script>
  
  <script type="text/javascript">

    // Register service worker to control making site work offline
    if('serviceWorker' in navigator) {
      // might need to change this url for github pages
      navigator.serviceWorker.register('/animation/sw_sandbox.js')
      // navigator.serviceWorker.register('/sandbox/sw.js')
        .then(()=>{console.log('Service Worker Registered');});
    }

    var container = document.getElementById('container');
    var svgContainer = SVG(`#${container.id}`);
    var player = new Player(svgContainer);

    player.loadScene(scenes.sandbox);
    player.play();

  </script>

</html>
